CREATE DATABASE telegram_bot_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

    GRANT ALL PRIVILEGES ON telegram_bot_db.* TO '–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á_mysql'@'localhost';
FLUSH PRIVILEGES;



-------–í–ò–î–ê–õ–ò–¢–ò –í–°–ï –ó –¢–ê–ë–õ–ò–¶–Ü!!!!!!!!!!
TRUNCATE TABLE users;
--------------------
-----–ü–û–ß–ò–°–¢–ò–¢–ò –ë–ê–ó–£-----------
DROP DATABASE telegram_bot_db;
CREATE DATABASE telegram_bot_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
----------------------------

üß™ –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
1. test_categories
–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–µ—Å—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: ‚ÄúGCP Basics‚Äù, ‚ÄúKubernetes‚Äù, ‚ÄúCI/CD Pipelines‚Äù)

sql
Copy
Edit
CREATE TABLE test_categories (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    description TEXT
);
2. tests
–ö–æ–∂–µ–Ω –æ–∫—Ä–µ–º–∏–π —Ç–µ—Å—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "GCP - —Ä—ñ–≤–µ–Ω—å 1")

sql
Copy
Edit
CREATE TABLE tests (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    category_id INT,
    difficulty_level INT,
    description TEXT,
    FOREIGN KEY (category_id) REFERENCES test_categories(id)
);
3. questions
–ü–∏—Ç–∞–Ω–Ω—è –¥–ª—è —Ç–µ—Å—Ç—ñ–≤

sql
Copy
Edit
CREATE TABLE questions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    test_id INT,
    question_text TEXT NOT NULL,
    explanation TEXT,
    FOREIGN KEY (test_id) REFERENCES tests(id)
);
4. answers
–í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–Ω—è

sql
Copy
Edit
CREATE TABLE answers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question_id INT,
    answer_text TEXT NOT NULL,
    is_correct BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (question_id) REFERENCES questions(id)
);
5. user_test_sessions
–°–µ—Å—ñ—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º

sql
Copy
Edit
CREATE TABLE user_test_sessions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    test_id INT,
    started_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    completed_at DATETIME,
    score INT,
    is_passed BOOLEAN,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (test_id) REFERENCES tests(id)
);
6. user_answers
–í—ñ–¥–ø–æ–≤—ñ–¥—ñ, —è–∫—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–±—Ä–∞–≤ –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

sql
Copy
Edit
CREATE TABLE user_answers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    session_id INT,
    question_id INT,
    answer_id INT,
    is_correct BOOLEAN,
    FOREIGN KEY (session_id) REFERENCES user_test_sessions(id),
    FOREIGN KEY (question_id) REFERENCES questions(id),
    FOREIGN KEY (answer_id) REFERENCES answers(id)
);

‚úÖ –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ:
7. test_rewards
–ë–æ–Ω—É—Å–Ω—ñ –±–∞–ª–∏/—Ä—ñ–≤–Ω—ñ/–∞—á—ñ–≤–∫–∏ –∑–∞ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤

sql
Copy
Edit
CREATE TABLE test_rewards (
    id INT AUTO_INCREMENT PRIMARY KEY,
    test_id INT,
    branch_id INT,
    points_awarded INT,
    FOREIGN KEY (test_id) REFERENCES tests(id),
    FOREIGN KEY (branch_id) REFERENCES skill_branches(id)
);
üìä –©–æ –º–æ–∂–Ω–∞:
–ü—Ä–∏–≤'—è–∑–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–æ –≥—ñ–ª–æ–∫ –ø—Ä–æ–∫–∞—á–∫–∏ (CI/CD, Cloud, K8s‚Ä¶)

–ù–∞—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –±–∞–ª–∏ –¥–æ user_branch_progress

–í–∏–∑–Ω–∞—á–∞—Ç–∏ —Å–ª–∞–±–∫—ñ –≥—ñ–ª–∫–∏ (–¥–µ —á–∞—Å—Ç–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —Ç–µ—Å—Ç–∏)

–§–æ—Ä–º—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å: ‚Äú–í–∏ –ø—Ä–æ–π—à–ª–∏ 7 —Ç–µ—Å—Ç—ñ–≤ —É –Ω–∞–ø—Ä—è–º–∫—É Kubernetes‚Äù




